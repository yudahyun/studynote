# ìœ ë‹¤í˜„ ë…¸íŠ¸ì •ë¦¬

### 22.05.09 ~

---

# 01. useRef

ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ ë‚´ë¶€ì—ì„œ Domì„ ì§ì ‘ì ìœ¼ë¡œ ê±´ë“œë ¤ì•¼ í•  ë•Œ refë¡œ ì´ë¦„ì„ ë‹¬ ìˆ˜ ìˆë‹¤.
idë¥¼ ì‚¬ìš©í•˜ëŠ”ê±´ ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ë‹¤.

```javascript
import React from "react";
import "./style.css";
const MyRef = () => {
  const input = React.useRef();
  const [mypassword, setpassword] = React.useState();
  const [click, setclick] = React.useState(false);
  const [validate, setvalidate] = React.useState(false);

  const handleChange = (e) => {
    setpassword(e.target.value);
  };

  const handleButtonClick = () => {
    setclick(true);
    setvalidate(mypassword === "0000");
  };

  return (
    <div>
      <input
        type="text"
        ref={input}
        value={mypassword}
        onChange={handleChange}
        className={click ? (validate ? "success" : "failure") : ""}
        placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."
      />
      <button type="button" onClick={handleButtonClick}>
        í™•ì¸
      </button>
    </div>
  );
};

export default MyRef;
```

![ê²°ê³¼1](050901.png)
ì›ë˜ ë¹„ë°€ë²ˆí˜¸ë¼ë©´ type="password"ë¡œ í•˜ëŠ”ê²ƒì´ ë§ëŠ”ë°
ê·¸ëŸ¬ë©´ ì…ë ¥ê°’ì´ ì•ˆë³´ì—¬ì„œ textë¡œ ë³€ê²½í•˜ì˜€ë‹¤.
![ê²°ê³¼1](050902.png)

# 02. ì»´í¬ë„ŒíŠ¸ì— ref ë‹¬ê¸°

ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìˆëŠ” DOMì„ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•œë‹¤. ì»´í¬ë„ŒíŠ¸ì— ref ë¥¼ ë‹¤ëŠ” ë°©ë²•ì€
DOMì— ì“°ëŠ” ë°©ë²•ê³¼ ê°™ë‹¤.

---
React ì»´í¬ë„ŒíŠ¸ì— ref propì„ ë„˜ê¸¸ ìˆ˜ ìˆëŠ” forwordRef í•¨ìˆ˜ ì‚¬ìš©ë²• 

# 03. forwordRef ì‚¬ìš©ë²•
```javascript
import React from "react";
import ScrollBox from "./ScrollBox";
function App() {
   
  const scrollBoxRef = React.useRef();
  const scrollBottom = () => {
    console.log("ìŠ¤í¬ë¡¤ì˜ ì´ ê¸¸ì´ëŠ”",scrollBoxRef.current.scrollHeight);
    console.log("ìŠ¤í¬ë¡¤ì˜ ìœ„ì¹˜ëŠ”",scrollBoxRef.current.scrollTop);
    scrollBoxRef.current.scrollTop=scrollBoxRef.current.scrollHeight;
    console.log("ìŠ¤í¬ë¡¤ìœ„ì¹˜ê°€ ìŠ¤í¬ë¡¤ ë†’ì´ë§Œí¼ ë‚´ë ¤ê°”ìŠµë‹ˆë‹¤. ğŸŒŸ")
      
  };
  return (
    <div>
      <ScrollBox ref={scrollBoxRef} />
      <button onClick={scrollBottom}>ë§¨ ë°‘ìœ¼ë¡œ</button>
    </div>
   );
} 



export default App;
```

```javascript
import React from "react";

const ScrollBox = React.forwardRef((props, ref) => {
  const style = {
    border: "1px solid black",
    height: "300px",
    width: "300px",
    overflow: "auto",
    position: "relative",
  };
  const innerStyle = {
    width: "100%",
    height: "650px",
    background: "linear-gradient(#fff,#000)",
  };

  return (
    <>
      <div ref={ref} style={style}>
        <div style={innerStyle}></div>
      </div>
    </>
  );
});

export default ScrollBox;
```
![ìŠ¤í¬ë¡¤ìœ„ì¹˜](050903.png)
![ìŠ¤í¬ë¡¤ìœ„ì¹˜](050904.png)

ì»´í¬ë„ŒíŠ¸ ë¼ë¦¬ ë°ì´í„°ë¥¼ ê³µìœ í•  ë•ŒëŠ” ë¶€ëª¨ <-> ìì‹ íë¦„ìœ¼ë¡œ êµë¥˜í•´ì•¼ í•´ì•¼ í•œë‹¤.
```
ì¼ë°˜ì ìœ¼ë¡œ forwardRef() í•¨ìˆ˜ëŠ” HTML ì—˜ë¦¬ë¨¼íŠ¸ ëŒ€ì‹ ì— ì‚¬ìš©ë˜ëŠ” ìµœë§ë‹¨ ì»´í¬ë„ŒíŠ¸(ex. <Input/>, <Button/>)ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì£¼ë¡œ ì‚¬ìš©ë˜ë©°, ê·¸ ë³´ë‹¤ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” forwardRef() í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ì— ìˆëŠ” HTML ì—˜ë¦¬ë¨¼íŠ¸ì˜ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì™¸ë¶€ì— ìˆëŠ” ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì ‘ê·¼í•˜ë„ë¡ í•˜ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ ê°„ì˜ ê²°í•©ë„(coupling)ì„ ì¦ê°€ì‹œì¼œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìœ ì§€ë³´ìˆ˜ë¥¼ ì–´ë µê²Œ ë§Œë“¤ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
```
###### @ ì¶œì € : https://www.daleseo.com/react-forward-ref/

# 04. ì»´í¬ë„ŒíŠ¸ ë°˜ë³µ
## ë°ì´í„° ë°°ì—´ì„ ì»´í¬ë„ŒíŠ¸ ë°°ì—´ë¡œ ë³€í™˜í•˜ê¸°
```javascript
import React from 'react';

const Sample = () => {
    const name = ["ë´„","ì—¬ë¦„","ê°€ì„","ê²¨ìš¸"];
    const nameList = name.map((name,i)=><li key={i}>{name}</li>);
    return (
        <div>
            <ul>{nameList}</ul>
        </div>
    );
};

export default Sample;
```

![ë´„](050905.png)

ë°°ì—´ë¡œ ë°˜í™˜í•˜ëŠ” ê²½ìš° ë°ì´í„°ê°€ ê°€ì§„ ê³ ìœ³ê°’ì„ key ê°’ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤.

```javascript
import React,{useState} from 'react';

const IterationSample = () => {
    const [names,setNames]= useState([
        {id:1,text:"ë´„"},
        {id:2,text:"ì—¬ë¦„"},
        {id:3,text:"ê°€ì„"},
        {id:4,text:"ê²¨ìš¸"},
    ]);
    const [inputText,setInputText] = useState();
    const [nextId , setNextID] = useState(5);
    const onChange=(e)=>{setInputText(e.target.value)}
    const onClick=()=>{
        const nextNames = names.concat({id:nextId,text:inputText})
        setNextID(nextId+1)
        setNames(nextNames);
        setInputText("")
    }
     const namesList = names.map(name=><li key={name.id}>{name.text}</li>)
    return (
        <div>
            <input type="text" value={inputText} onChange={onChange}/>
            <button onClick={onClick}>ì¶”ê°€</button>
            <ul>{namesList}</ul>
        </div>
    );
};

export default IterationSample;
```
![ë°°ì—´ì¶”ê°€](050906.png)
ë°°ì—´ì˜ ìƒˆ í•­ëª©ì„ ì¶”ê°€í•  ë•ŒëŠ” ë°°ì—´ì˜ push í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  concatì„ ì‚¬ìš©í•œë‹¤.
push í•¨ìˆ˜ëŠ” ê¸°ì¡´ ë°°ì—´ ìì²´ë¥¼ ë³€ê²½ í•´ì£¼ëŠ” ë°˜ë©´ concatì€ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ ê¸°ì¡´ ìƒíƒœë¥¼ ê·¸ëŒ€ë¡œ ë‘ë©´ì„œ
ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤. filterë„ ë˜‘ê°™ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

# 05. HOOK
### useState
ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ê°€ë³€ì ì¸ ìƒíƒœë¥¼ ì§€ë‹ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
ê¸°ë³¸ê°’ì„ ì„¤ì •í•˜ê³  í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œ ìƒ…ì• ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ìƒíƒœê°’ì„ ë³€ê²½í•´ì¤€ë‹¤.
---
```javascript
import React from 'react';
import {useState} from "react";

const MyState = () => {
const [name,setname] = useState("");
const [grade,setgrade] =useState(50);

const nameState=(e)=>{
    setname(e.currentTarget.value);
} 
const gradeState=(e)=>{
    setgrade(e.currentTarget.value);
}
    return (
        <div>
            <h2>{name}ë‹˜ ì ìˆ˜ëŠ”{grade}ì…ë‹ˆë‹¤. </h2>
            <hr/>
            <input type="text" onChange={nameState} placeholder="ì´ë¦„ì„ ì ìœ¼ì„¸ìš”."/><br/>
            <input type="range" onChange={gradeState}/>
        </div>
    );
};

export default MyState;
```
![ë°°ì—´ì¶”ê°€](050907.png)
![ë°°ì—´ì¶”ê°€](050908.png)

### useEffect
ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ëœë”ë§ ë  ë•Œë§ˆë‹¤ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰ í•  ìˆ˜  ìˆë„ë¡ ì„¤ì • í•  ìˆ˜ ìˆëŠ” HOOK 

---
ê°€ì¥ ê¸°ë³¸ ì ì¸ ì‚¬ìš© ë°©ë²• 

```javascript
import React from 'react';

const UseEffect = () => {
    React.useEffect(() => {
        console.log("ëœë”ë§ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¨");
    })
    return (
        <div>
            
        </div>
    );
};

export default UseEffect;
```
![](050909.png)
ë‘ë²ˆ ë‚˜ì˜¤ëŠ” ì´ìœ ëŠ” <React.StrictMode> ë•Œë¬¸


---
stateì˜ ìƒíƒœê°€ ë°”ë€” ë•Œ ëœë”ë§ ë  ìˆ˜ ìˆë‹¤.

```javascript
import React from 'react';

const UseEffect = () => {
    const [name,setNames] = React.useState();
    const [nickname,setNickNames] = React.useState();
    React.useEffect(() => {
        console.log("ëœë”ë§ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¨");
        console.log({
            name,nickname
        })
    })
    const onChange =(e)=>{
        setNames(e.target.value);
    }
    const onChangeNickname =(e)=>{
        setNickNames(e.target.value);
    }
    return (
        <div>
            <input type="text" value={name} onChange={onChange}/>
            <input type="text" value={nickname} onChange={onChangeNickname}/><br/>
            ì´ë¦„:{name}<br/>
            ë‹‰ë„¤ì„:{nickname}
        </div>
    );
};

export default UseEffect;
```
![](050910.png)
![](050911.png)


```javascript
import React from "react";
import UseEffect from './UseEffect';

function App() {
   const [visible,setVisible] = React.useState(false);
  return (
    <div>
      <button onClick={
        ()=>{
          setVisible(!visible);
        }
      }>{visible ? "ìˆ¨ê¸°ê¸°":"ë³´ì´ê¸°"}</button>
    {visible && <UseEffect/>}
    </div>
   );
} 

export default App;
```
```javascript
import React from 'react';

const UseEffect = () => {
    const [name,setNames] = React.useState();
    const [nickname,setNickNames] = React.useState();
    React.useEffect(() => {
        console.log("ëœë”ë§ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ¨");
      
        return ()=>{
            console.log("ëœë”ë§ ëì…ë‹ˆë‹¤. ")
        }
    },[name])
    const onChange =(e)=>{
        setNames(e.target.value);
    }
    const onChangeNickname =(e)=>{
        setNickNames(e.target.value);
    }
    return (
        <div>
            <input type="text" value={name} onChange={onChange}/>
            <input type="text" value={nickname} onChange={onChangeNickname}/><br/>
            ì´ë¦„:{name}<br/>
            ë‹‰ë„¤ì„:{nickname}
        </div>
    );
};

export default UseEffect;
```
![](050912.png)
![](050913.png)
## useReduce
ë¦¬ë“€ìŠ¤ëŠ” í˜„ì¬ ìƒíƒœ , ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ì€ action ê°’ì„ ì „ë‹¬ ë°›ì•„ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë²ˆí™˜í•˜ëŠ” í•¨ìˆ˜

```javascript
import React from 'react';

function reducer(state,action){
    return{
        ...state,
        [action.name]:action.value
    }
}
const UseReducer2 = () => {
     const [state,dispatch] = React.useReducer(reducer,{
         name:"",
         nickname:""
     })

     const {name,nickname} = state;
     const onChange =e=>{
         dispatch(e.target);
     }
    return (
        <div>
            <input name="name" value={name} onChange={onChange}/>
            <input name="nickname" value={nickname} onChange={onChange}/><br/>
            ì´ë¦„:{name}<br/>
            ë‹‰ë„´:{nickname}
        </div>
    );
};

export default UseReducer2;
```
![](050914.png)

## useMemo
í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì—°ì‚°ì„ ìµœì í™” í•  ìˆ˜ ìˆë‹¤. 
ë©”ëª¨ë¦¬ì–¼ì— ì €ì¥í•˜ëŠ” ë°©ì‹ 
```javascript
import React from 'react';

const getAVG = numbers=>{
    console.log("ê³„ì‚°ì¤‘");
    if(numbers.length === 0) return 0;
    const sum = numbers.reduce((a,b)=>a+b);
    return sum / numbers.length;
};
const UseMemo = () => {
    const [list,setList] =React.useState([]);
    const [number,setNumber]= React.useState("");
    const onChange = e=>{
        setNumber(e.target.value);
    }
    const onInsert =e=>{
        const nextList = list.concat(parseInt(number));
        setList(nextList);
        setNumber("");
    }
    return (
        <div>
            <input value={number} onChange={onChange}/>
            <button onClick={onInsert}>ë“±ë¡</button>
            <ul>
                {list.map((v,i)=>{
                   return  <li key={i}>{v}</li>
                })}
            </ul>
            <p>í‰ê· ê°’ : {getAVG(list)}</p>
        </div>

    );
};

export default UseMemo;
```
![](050915.png)

## useCallback
useMemoì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ë Œë”ë§ ì„±ëŠ¥ì„ ìµœì í™” í•  ë•Œ ì“°ì¸ë‹¤.

```javascript
import React from 'react';

const getAVG = numbers=>{
    console.log("ê³„ì‚°ì¤‘");
    if(numbers.length === 0) return 0;
    const sum = numbers.reduce((a,b)=>a+b);
    return sum / numbers.length;
};
const UseCallback = () => {
    const [list,setList] =React.useState([]);
    const [number,setNumber]= React.useState("");

    const onChange =React.useCallback(e=>{
        setNumber(e.target.value);
    },[]); // ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§ ë  ë•Œë§Œ í•¨ìˆ˜ ìƒì„±

    const onInsert =React.useCallback(()=>{
        const nextList = list.concat(parseInt(number));
        setList(nextList);
        setNumber("");
    },[number,list])//number í˜¹ì€ list ê°€ ë³€ê²½ ë˜ì—ˆì„ ë•Œë§Œ í•¨ìˆ˜ ìƒì„± 

    return (
        <div>
            <input value={number} onChange={onChange}/>
            <button onClick={onInsert}>ë“±ë¡</button>
            <ul>
                {list.map((v,i)=>{
                   return  <li key={i}>{v}</li>
                })}
            </ul>
            <p>í‰ê· ê°’ : {getAVG(list)}</p>
        </div>

    );
};

export default UseCallback;
```